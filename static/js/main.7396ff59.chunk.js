(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{11:function(t,e,a){t.exports=a(20)},17:function(t,e,a){},18:function(t,e,a){},20:function(t,e,a){"use strict";a.r(e);var n=a(0),o=a.n(n),i=a(9),r=a.n(i),s=(a(17),a(18),a(7)),c=a.n(s),l=a(10),u=a(2),h=a(3),m=a(5),d=a(4),p=a(1),g=a(6),b=function(t){function e(t){var a;return Object(u.a)(this,e),(a=Object(m.a)(this,Object(d.a)(e).call(this,t))).state={artist:"",title:"",venue:"",location:"",startDate:"",endDate:"",description:"",link:"",imageSrc:"",imageCaption:"",images:[]},a.fetchFirstPage=a.fetchFirstPage.bind(Object(p.a)(a)),a}return Object(g.a)(e,t),Object(h.a)(e,[{key:"fetchFirstPage",value:function(){var t=this;fetch("https://qe8jl4jty7.execute-api.us-east-1.amazonaws.com/dev/?url="+encodeURIComponent(this.props.url)).then(function(t){return t.json()}).then(function(e){var a=e._embedded.location[0],n=a.images;t.setState({artist:a.title.split("\n")[0],title:a.title.split("\n")[1],venue:a.location.name,address:a.location.address,hours:a.location.hours,startDate:a.showStart.substring(0,10),endDate:a.showEnd.substring(0,10),dates:"".concat(a.showStart.substring(0,10)," to ").concat(a.showEnd.substring(0,10)),description:a.descriptionExtended,link:a.path,imageSrc:"https://artforum.com".concat(n[0].pathLarge),imageCaption:n[0].captionFormatted})})}},{key:"componentDidMount",value:function(){this.fetchFirstPage()}},{key:"componentDidUpdate",value:function(t){this.props!==t&&this.fetchFirstPage()}},{key:"render",value:function(){return o.a.createElement("div",null,o.a.createElement("h1",null,this.state.artist),o.a.createElement("h2",null,this.state.title," "),o.a.createElement("h3",null," ",this.state.venue," "),o.a.createElement("p",null," ",this.state.address," "),o.a.createElement("p",null," ",this.state.hours," "),o.a.createElement("p",null,this.state.dates),o.a.createElement("blockquote",null," ",this.state.description," "),o.a.createElement("br",null),o.a.createElement("img",{src:this.state.imageSrc,alt:this.state.imageCaption})," ",o.a.createElement("br",null),o.a.createElement("p",null,o.a.createElement("small",null,this.state.imageCaption)))}}]),e}(o.a.Component);var f=function(t){function e(t){var a;return Object(u.a)(this,e),(a=Object(m.a)(this,Object(d.a)(e).call(this,t))).state={randomUrl:void 0,showAbout:!1},a.constructRandomURL=a.constructRandomURL.bind(Object(p.a)(a)),a.fetchRandomPage=a.fetchRandomPage.bind(Object(p.a)(a)),a.toggleAbout=a.toggleAbout.bind(Object(p.a)(a)),a.about=o.a.createElement("div",{onClick:a.toggleAbout},o.a.createElement("blockquote",null,"This is a project by ",o.a.createElement("a",{href:"https://siwinlo.github.io"},"Siwin Lo"),'. Want to see some art, but daunted by having to choose a "cool" or "smart" show? This app picks a random show for you to see, taking all such pressures off you.',o.a.createElement("br",null),"Enjoy!")),a}return Object(g.a)(e,t),Object(h.a)(e,[{key:"componentDidMount",value:function(){this.fetchRandomPage()}},{key:"fetchRandomPage",value:function(){var t=Object(l.a)(c.a.mark(function t(){var e,a,n;return c.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,fetch("https://qe8jl4jty7.execute-api.us-east-1.amazonaws.com/dev/?url="+encodeURIComponent("https://www.artforum.com/api/guide/entities-by-place-location/new-york?category=all&page=1&size=1&fetchAll=0"));case 2:return e=t.sent,t.next=5,e.json();case 5:a=t.sent,n=this.constructRandomURL(a.pages),this.setState({randomUrl:n}),this.setState({showAbout:!1});case 9:case"end":return t.stop()}},t,this)}));return function(){return t.apply(this,arguments)}}()},{key:"constructRandomURL",value:function(t){return"https://www.artforum.com/api/guide/entities-by-place-location/new-york?category=all&page=".concat(Math.floor(Math.random()*t),"&size=1&fetchAll=0")}},{key:"toggleAbout",value:function(){this.setState({showAbout:!this.state.showAbout})}},{key:"render",value:function(){var t;return t=void 0===this.state.randomUrl?o.a.createElement("div",null,o.a.createElement("img",{src:"https://media.giphy.com/media/l3nWhI38IWDofyDrW/giphy.gif",id:"loading",alt:"loading"})):!0===this.state.showAbout?this.about:o.a.createElement(b,{url:this.state.randomUrl}),o.a.createElement("div",{id:"app"},o.a.createElement("div",{id:"header"},o.a.createElement("h1",{id:"heading"},"What should I see this week?"),o.a.createElement("button",{id:"refreshDiv",onClick:this.fetchRandomPage},"Thank u, next!"),o.a.createElement("button",{onClick:this.toggleAbout},"About this project")),o.a.createElement("div",{id:"content"}," ",o.a.createElement("p",null),t," "))}}]),e}(o.a.Component);var v=function(){return o.a.createElement("div",null,o.a.createElement(f,null))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));r.a.render(o.a.createElement(v,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(t){t.unregister()})}},[[11,1,2]]]);
//# sourceMappingURL=main.7396ff59.chunk.js.map